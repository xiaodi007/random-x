# `randomX` 模块

## 概述

`randomX` 模块提供了从向量中进行随机选择以及加权选择的功能。它的设计目的是帮助你随机，或根据分配的权重选择一个或多个元素，在需要考虑选择概率的场景中非常有用。



`使用 RandomX 的卡牌对战游戏`，这是一款使用 Move 编程语言和 RandomX 模块生成随机游戏数据的卡牌对战游戏。游戏具有玩家对战 AI 的战斗系统，玩家可以利用手上的道具做出战略决策，以击败 AI 对手。游戏开始时通过智能合约生成构建游戏环境所需的随机数据。

### Demo Links
- [国内](http://8.137.86.183:4037)
- [国外](http://8.137.86.183:4037)

## 函数

```move
choice: 从给定的元素向量中随机选择一个元素。
choices: 从给定的元素向量中随机选择多个元素。
weighted_choice: 从给定的元素向量中根据权重向量随机选择一个元素。
weighted_choices: 从给定的元素向量中根据权重向量随机选择多个元素。
random_permutation: 生成给定向量的随机排列。可以用来打乱元素的顺序。
weighted_random_permutation: 生成基于权重的向量的随机排列。
sample_without_replacement: 从向量中不放回地抽取多个样本。
weighted_sample_without_replacement: 从向量中根据权重不放回地抽取多个样本。
```

## 游戏玩法与交互逻辑

### 1. 登录游戏

游戏开始时，玩家登录。这一操作会触发智能合约调用，以生成构建游戏环境所需的初始随机数据。这些数据包括随机选择的世界设置、初始生命值（HP）以及玩家和 AI 在游戏中使用的道具。

### 2. 生成随机游戏数据

登录后，智能合约使用 RandomX 模块生成以下随机数据：
- **世界设置**：随机选择定义游戏环境的世界。
- **生命值（HP）**：为玩家和 AI 生成初始生命值。
- **道具**：为玩家和 AI 随机选择一组道具。
- **骰子掷点**：决定游戏开始条件的初始掷点。

### 3. 进入游戏并开始战斗

一旦游戏环境设置完毕，玩家进入游戏并开始与 AI 的战斗。战斗是回合制的，玩家和 AI 轮流根据游戏规则使用可用道具并执行动作。

### 4. 玩家与 AI 的决策

每回合，玩家和 AI 可以：
- 使用道具以获得优势或对对手造成伤害。
- 掷骰子以决定某些动作的结果。
- 根据当前游戏状态和可用资源做出战略决策。

### 5. 胜利条件

游戏的目标是将对手的 HP 降至零。通过有效利用道具和做出战略决策，玩家获胜。

## 交互流程示例

1. **登录并初始化游戏数据**：
    - 玩家登录游戏。
    - 调用智能合约生成随机游戏数据。

2. **生成随机数据**：
    - 世界：随机选择若干世界及其设置。
    - 生命值（HP）：为玩家和 AI 生成初始生命值。
    - 道具：随机选择一组道具供玩家和 AI 使用。
    - 骰子掷点：生成决定开始条件的初始掷点。

3. **开始游戏**：
    - 玩家进入游戏。
    - 显示初始游戏数据给玩家。

4. **玩家与 AI 回合**：
    - 玩家决策使用道具或执行某些动作。
    - AI 根据其可用道具和游戏状态做出决策。
    - 掷骰子和游戏规则决定结果。

5. **游戏结束**：
    - 游戏持续到玩家或 AI 的 HP 降至零。
    - 谁先将对手的 HP 降至零谁就获胜。

## 优势
1. **随机性和可重玩性：**

- 随机游戏数据：利用 RandomX 模块，每次游戏开始时生成不同的随机数据，使得每局游戏都是独一无二的。玩家不会感到重复和乏味，提高了游戏的可重玩性。
- 动态环境：随机生成的世界设置、道具和初始条件使得游戏环境不断变化，玩家必须不断调整策略来应对新的挑战。
  
2. **区块链技术：** 


- 公平性和透明性：使用智能合约来生成游戏数据和处理游戏逻辑，确保数据的公正性和透明性，防止作弊行为。
- 不可篡改性：游戏数据和玩家操作记录在区块链上，保证了数据的不可篡改性和安全性。

3. **增强的策略性：**

- 多样的决策：玩家可以使用道具、掷骰子和做出各种战略决策，增加了游戏的深度和策略性。
- AI 对战：与 AI 对手的战斗使得游戏更具挑战性，玩家需要通过智慧和策略来击败对手。


4. **自动化和安全性：**

- 自动化执行：智能合约自动执行游戏规则和逻辑，减少了人为干预和错误的可能性。
- 安全性：利用区块链的安全特性，确保玩家数据和游戏过程的安全。

5. **奖励和惩罚：(未来)**

- 即时结算：游戏结束后，智能合约可以立即发放奖励或执行惩罚，通过 Sui 代币或其他代币结算，提高游戏体验的即时性。
- 去中心化经济系统：玩家之间的交易和奖励都可以通过代币系统实现，建立一个去中心化的游戏经济。

## 未来发展方向
1. 奖惩制度
引入奖惩制度，通过 Sui 代币或其他代币进行结算。胜利的玩家可以获得奖励，而失败的玩家可能会失去部分代币。这不仅增加了游戏的竞争性，还建立了一个去中心化的经济系统。

2. AI 制作商店
开发 AI 制作商店，允许玩家创建和上传自己的 AI 供其他玩家对战。玩家可以在商店中购买或分享这些 AI，增加了游戏的多样性和互动性。

3. 玩家对战
除了与 AI 对战，还可以引入玩家对战功能。玩家可以与其他玩家进行实时对战，增加游戏的社交性和竞技性。对战结果通过智能合约自动结算，奖励和惩罚通过代币发放。